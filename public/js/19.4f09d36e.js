(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{cdd0:function(e,o,n){"use strict";n.r(o);var r=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("q-page",{attrs:{padding:""}},[n("div",[n("q-form",{staticClass:"q-gutter-sm q-pa-sm",on:{submit:function(o){return e.atualizarPerfil()}}},[n("q-input",{ref:"input_nome",attrs:{label:"Nome *",rules:[function(e){return e&&e.length>0||"Por favor digite seu nome"}],"lazy-rules":"",clearable:""},model:{value:e.perfil.nome,callback:function(o){e.$set(e.perfil,"nome",o)},expression:"perfil.nome"}}),n("q-input",{ref:"input_sobrenome",attrs:{label:"Sobrenome *",hint:"Apenas um sobrenome",rules:[function(e){return e&&e.length>0||"Por favor digite seu sobrenome"}],"lazy-rules":"",clearable:""},model:{value:e.perfil.sobrenome,callback:function(o){e.$set(e.perfil,"sobrenome",o)},expression:"perfil.sobrenome"}}),n("q-input",{attrs:{label:"Contato",mask:"(##) #####-####",hint:"WhatsApp ou celular",clearable:""},model:{value:e.perfil.contato,callback:function(o){e.$set(e.perfil,"contato",o)},expression:"perfil.contato"}}),n("q-input",{attrs:{label:"Data de nascimento",mask:"##/##/####",clearable:""},model:{value:e.perfil.nascimento,callback:function(o){e.$set(e.perfil,"nascimento",o)},expression:"perfil.nascimento"}}),n("q-input",{ref:"input_email",attrs:{label:"E-mail",readonly:""},model:{value:e.user.email,callback:function(o){e.$set(e.user,"email",o)},expression:"user.email"}}),n("div",[n("q-btn",{attrs:{label:"Atualizar",type:"submit",color:"primary"}})],1)],1)],1)])},i=[],t=(n("a481"),{name:"Profile",data:function(){return{user:this.$firebase.auth().currentUser,perfil:{nome:"",sobrenome:"",contato:"",nascimento:""}}},created:function(){var e=this;this.user&&this.$db.ref("perfis").orderByChild("id").equalTo(this.user.uid).once("child_added",(function(o){e.perfil=o.val()}))},methods:{atualizarPerfil:function(){var e=this,o=this;this.$db.ref("perfis").orderByChild("id").equalTo(o.user.uid).once("value",(function(e){if(e.exists())o.$db.ref("perfis").orderByChild("id").equalTo(o.user.uid).once("child_added",(function(e){o.$db.ref("perfis").child(e.key).update({nome:o.perfil.nome,sobrenome:o.perfil.sobrenome,contato:o.perfil.contato,nascimento:o.perfil.nascimento})}));else{var n=o.$db.ref("perfis").push();n.setWithPriority({id:o.user.uid,nome:o.perfil.nome,sobrenome:o.perfil.sobrenome,contato:o.perfil.contato,nascimento:o.perfil.nascimento,admin:!1},o.perfil.nome)}})),this.user.updateProfile({displayName:this.perfil.nome+" "+this.perfil.sobrenome}).then((function(o){e.$q.notify({message:"Perfil atualizado com sucesso!",color:"positive",position:"center",icon:"how_to_reg"}),e.$router.replace("/")}),(function(o){e.$q.notify({message:"Ops.. algo deu errado. Tente novamente",color:"negative",position:"center",icon:"error"}),console.log(o.message)}))}}}),a=t,l=n("2877"),s=n("eebe"),u=n.n(s),c=n("9989"),f=n("0378"),p=n("27f9"),m=n("9c40"),d=Object(l["a"])(a,r,i,!1,null,null,null);o["default"]=d.exports;u()(d,"components",{QPage:c["a"],QForm:f["a"],QInput:p["a"],QBtn:m["a"]})}}]);