(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0c7791"],{5187:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md flex-center",staticStyle:{"max-width":"300px"}},[a("div",[a("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[a("q-input",{ref:"input_dia",attrs:{label:"Dia",outlined:"","lazy-rules":"",rules:[function(t){return!!t||"Defina um dia."}],mask:"##/##/####","unmasked-value":""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{title:"Data",mask:"DD/MM/YYYY",minimal:""},on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("q-select",{attrs:{outlined:"",multiple:"",options:t.horarios,label:"Horários"},model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}}),a("q-checkbox",{attrs:{label:"Fila de espera"},model:{value:t.extra,callback:function(e){t.extra=e},expression:"extra"}}),a("div",[a("q-btn",{attrs:{label:"Disponibilizar",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Limpar",type:"reset",color:"primary",flat:""}})],1)],1)],1),a("br"),a("div",{staticStyle:{width:"fit-content"}},[t.agenda?a("q-markup-table",{attrs:{flat:"",bordered:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v("Data")]),a("th",{staticClass:"text-center"},[t._v("Horários")]),a("th",{staticClass:"text-center"},[t._v("Extras")]),a("th",{staticClass:"text-center"},[t._v("Ação")])])]),a("tbody",t._l(t.agenda,(function(e){return a("tr",{key:e[".key"]},[a("td",{staticClass:"text-center"},[t._v(t._s(e.data))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.horarios))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.extra?"Sim":"Não"))]),a("td",[a("button",{on:{click:function(a){return t.remove_disponib(e.data)}}},[t._v("Excluir")])])])})),0)]):t._e()],1)])},s=[],i=(a("28a5"),{name:"Aconselhamento",data:function(){return{date:"",hours:[13,14,15,16],horarios:[13,14,15,16],extra:!1,agenda:[]}},created:function(){var t=this;this.$db.ref("aconselhamentos_agenda").orderByChild("data").on("value",(function(e){t.agenda=e.val()}))},methods:{stringToDate:function(t,e,a){var n=e.toLowerCase(),s=n.split(a),i=t.split(a),o=s.indexOf("mm"),r=s.indexOf("dd"),l=s.indexOf("yyyy"),c=parseInt(i[o]);c-=1;var d=new Date(i[l],c,i[r]);return d},toDate:function(t,e,a){var n=t,s=null,i=e.toLowerCase(),o=i.split(a),r=n.split(a),l=o.indexOf("mm"),c=o.indexOf("dd"),d=o.indexOf("yyyy"),u=r[c];if(u<10&&(u="0"+u),l>-1){var p=parseInt(r[l]);p-=1,p<10&&(p="0"+p),s=new Date(r[d],p,u)}return s},format_en:function(t){var e,a=t,n=a.split("/");return e=new Date(n[1],n[0],n[2]),e},onSubmit:function(){this.$refs.input_dia.validate(),this.$refs.input_dia.hasError?this.formHasError=!0:(this.$db.ref("aconselhamentos_agenda").push({data:this.date,horarios:this.hours,extra:this.extra}),this.$q.notify({color:"positive",textColor:"white",icon:"event_available",position:"center",message:"Aconselhamento disponibilizado!"}),this.onReset())},onReset:function(){this.date="",this.hours=[13,14,15,16],this.extra=!1,this.$refs.input_dia.resetValidation()},remove_disponib:function(t){var e=this;this.$db.ref("aconselhamentos_agenda").orderByChild("data").equalTo(t).on("child_added",(function(t){e.$db.ref("aconselhamentos_agenda").child(t.key).remove()})),this.$q.notify({color:"positive",textColor:"white",icon:"event_busy",position:"center",message:"Aconselhamento excluído!"})}}}),o=i,r=a("2877"),l=a("fe09"),c=Object(r["a"])(o,n,s,!1,null,null,null);e["default"]=c.exports;c.options.components=Object.assign({QForm:l["m"],QInput:l["r"],QIcon:l["o"],QPopupProxy:l["C"],QDate:l["i"],QSelect:l["E"],QCheckbox:l["h"],QBtn:l["a"],QMarkupTable:l["x"]},c.options.components||{})}}]);