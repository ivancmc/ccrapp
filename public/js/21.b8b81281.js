(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"82ef":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"q-pa-sm flex-center",attrs:{padding:""}},[e.usuarios?s("div",{staticStyle:{"min-width":"342px","margin-bottom":"24px"}},[s("div",{staticStyle:{width:"100%"}},[s("q-markup-table",{attrs:{dense:"",separator:"cell"}},[s("thead",[s("tr",{staticClass:"bg-grey text-white"},[s("th",{staticClass:"text-center text-black"},[e._v("Nome")]),s("th",{staticClass:"text-center text-black"},[e._v("Contato")]),s("th",{staticClass:"text-center text-black"},[e._v("Nascimento")]),s("th",{staticClass:"text-center text-black"},[e._v("Adm")]),s("th",{staticClass:"text-center text-black"},[e._v("Excluir")])])]),s("tbody",e._l(e.usuarios,(function(t){return s("tr",{key:t[".key"]},[s("td",{staticClass:"text-center"},[e._v(e._s(t.nome+" "+t.sobrenome))]),s("td",{staticClass:"text-center"},[e._v(e._s(t.contato))]),s("td",{staticClass:"text-center"},[e._v(e._s(t.nascimento))]),s("td",{staticClass:"text-center"},[s("q-toggle",{ref:"toggle_adm",refInFor:!0,attrs:{"checked-icon":"how_to_reg",color:"green","unchecked-icon":"clear"},on:{input:function(s){return e.make_adm(t.id,t.admin)}},model:{value:t.admin,callback:function(s){e.$set(t,"admin",s)},expression:"usuario.admin"}})],1),s("td",{staticClass:"text-center"},[s("q-btn",{attrs:{dense:"",flat:"",icon:"delete_forever"},on:{click:function(s){return e.excluir_perfil(t.id)}}})],1)])})),0)])],1)]):e._e(),s("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":150,offset:[18,18]}},[s("q-btn",{staticClass:"shadow-5",attrs:{fab:"",icon:"keyboard_arrow_up",color:"blue-8"}})],1)],1)},o=[],r={name:"Users",data:function(){return{user:this.$firebase.auth().currentUser,usuarios:null}},created:function(){var e=this;this.$db.ref("perfis").orderByPriority().on("value",(function(t){e.usuarios=t.val()}))},methods:{make_adm:function(e,t){var s=this;e!==this.user.uid?(this.$db.ref("perfis").orderByChild("id").equalTo(e).once("child_added",(function(e){s.$db.ref("perfis").child(e.key).update({admin:t})})),this.$q.notify({message:"Usuário atualizado com sucesso!",color:"positive",position:"center",icon:"verified_user"})):(this.$q.notify({message:"Você não pode fazer isso!",color:"negative",position:"center",icon:"error"}),this.$db.ref("perfis").orderByChild("nome").on("value",(function(e){s.usuarios=e.val()})))},excluir_perfil:function(e){var t=this;e!==this.user.uid?(this.$db.ref("perfis").orderByChild("id").equalTo(e).once("child_added",(function(e){t.$db.ref("perfis").child(e.key).remove()})),this.$q.notify({message:"Usuário excluído!",color:"positive",position:"center",icon:"person_add_disabled"})):this.$q.notify({message:"Você não pode fazer isso!",color:"negative",position:"center",icon:"error"}),this.$db.ref("perfis").orderByChild("nome").on("value",(function(e){t.usuarios=e.val()}))}}},a=r,n=s("2877"),c=s("eebe"),l=s.n(c),d=s("9989"),u=s("2bb1"),f=s("9564"),h=s("9c40"),p=s("5096"),m=Object(n["a"])(a,i,o,!1,null,null,null);t["default"]=m.exports;l()(m,"components",{QPage:d["a"],QMarkupTable:u["a"],QToggle:f["a"],QBtn:h["a"],QPageScroller:p["a"]})}}]);