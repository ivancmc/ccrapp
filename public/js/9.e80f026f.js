(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"6d0f":function(t,i,e){},a29f:function(t,i,e){"use strict";var n=e("6d0f"),o=e.n(n);o.a},dc6c:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-page",[e("div",{staticClass:"q-pa-md q-gutter-md row justify-center"},[e("q-card",{staticClass:"q-pa-md q-mb-lg",staticStyle:{"min-width":"342px"},attrs:{inline:"",color:"white"}},[e("div",{staticClass:"float-right"},[e("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"o_live_help"}},[e("q-menu",{attrs:{anchor:"bottom left",self:"top middle","auto-close":""}},[e("q-list",{staticStyle:{width:"max-content"}},[e("q-item",{attrs:{clickable:""},on:{click:t.resetar_senha}},[e("q-item-section",[t._v("Esqueci minha senha")])],1)],1)],1)],1)],1),e("q-card-section",{staticClass:"q-pa-md",staticStyle:{margin:"auto",width:"max-content"}},[e("q-icon",{staticStyle:{"font-size":"5em"},attrs:{name:"assignment_ind"}})],1),e("q-form",[e("q-input",{attrs:{label:"E-mail *","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor digite seu e-mail"},function(t){return t.includes("@")&&t.includes(".")||"Digite um e-mail v√°lido"}],clearable:""},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.entrar(i)}},model:{value:t.email,callback:function(i){t.email=i},expression:"email"}}),e("q-input",{attrs:{type:"password",label:"Senha *","lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"Digite uma senha"}],clearable:""},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.entrar(i)}},model:{value:t.senha,callback:function(i){t.senha=i},expression:"senha"}}),e("q-card-actions",{staticClass:"q-mt-lg",attrs:{align:"center"}},[e("q-btn",{attrs:{label:"Entrar",color:"secondary",loading:t.loading1},on:{click:t.entrar},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-facebook")]},proxy:!0}])}),e("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Criar conta",color:"primary",flat:"",loading:t.loading2},on:{click:t.registrar},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-facebook")]},proxy:!0}])})],1)],1)],1),e("q-card",{staticClass:"q-pa-sm q-mb-lg",staticStyle:{"min-width":"342px",height:"fit-content"},attrs:{inline:"",color:"white"}},[e("q-card-section",{staticClass:"text-left",staticStyle:{padding:"8px"}},[e("div",{staticClass:"text-subtitle2",staticStyle:{display:"inline"}},[t._v("Notifica√ß√µes")]),t.$q.platform.is.ios?t._e():e("div",{staticClass:"float-right",staticStyle:{"margin-top":"-10px"}},[e("q-toggle",{ref:"toggle_ntf",attrs:{"unchecked-icon":"notifications_off","checked-icon":"notifications_active",color:"blue-8"},on:{input:function(i){return t.receber_notificacoes()}},model:{value:t.notifications,callback:function(i){t.notifications=i},expression:"notifications"}})],1)]),t.$q.platform.is.ios?e("div",[e("q-separator"),e("br"),e("p",[t._v("Infelizmente as notifica√ß√µes ainda n√£o funcionam neste dispositivo, mas no √≠cone "),e("q-icon",{attrs:{name:"notifications_active"}}),t._v(" aqui em cima voc√™ ver√° todas elas!")],1)],1):t._e()],1)],1)])},o=[],a=(e("28a5"),e("a481"),{name:"Login",data:function(){return{email:"",senha:"",loading1:!1,loading2:!1,codigo:"",user:this.$firebase.auth().currentUser,notifications:!1}},mounted:function(){var t=this;this.$firebase.auth().onAuthStateChanged((function(i){t.user=i||null})),t.user&&t.getProfile(t.user.uid);var i=window.OneSignal;i.push((function(){i.isPushNotificationsEnabled().then((function(i){i&&(t.notifications=!0)}))}))},methods:{registrar:function(){var t=this;this["loading2"]=!0,this.$firebase.auth().createUserWithEmailAndPassword(this.email,this.senha).then((function(i){t.$q.notify({message:"Sua conta foi criada com sucesso!",color:"positive",position:"center",icon:"how_to_reg"}),t.$router.replace("/")}),(function(i){t.codigo=i.code.split("/")[1].replace(/-/g,"_"),t.$q.notify({message:"Ops.. algo deu errado: "+t.$q.lang.auth[t.codigo],color:"negative",position:"center",icon:"error"}),t["loading2"]=!1,console.log(t.codigo),console.log(i.message)}))},entrar:function(){var t=this;this["loading1"]=!0,this.$firebase.auth().signInWithEmailAndPassword(this.email,this.senha).then((function(i){var e=". Por favor, preencha seu perfil.";if(i.user.displayName){var n=i.user.displayName.split(" ");e=" "+n[0]+"!"}t.$q.notify({message:"Seja bem-vindo"+e,color:"positive",position:"center",icon:"assignment_turned_in"}),i.user.displayName?t.$router.replace("/"):t.$router.replace("/profile")}),(function(i){t.codigo=i.code.split("/")[1].replace(/-/g,"_"),t.$q.notify({message:"Ops.. algo deu errado: "+t.$q.lang.auth[t.codigo],color:"negative",position:"center",icon:"assignment_late"}),t["loading1"]=!1,console.log(t.codigo),console.log(i.message)}))},resetar_senha:function(){this.$router.replace("/reset_pwd")},receber_notificacoes:function(){var t=this,i=window.OneSignal;t.$refs.toggle_ntf.value?(i.setSubscription(!1),t.notifications=!1,t.$q.notify({message:"Notifica√ß√µes desabilitadas.",color:"negative",position:"center",icon:"chat"})):i.push((function(){var e=i.isPushNotificationsSupported();e?i.push(["getNotificationPermission",function(e){"granted"===e?i.push((function(){i.isPushNotificationsEnabled().then((function(e){e?t.notifications=!0:(i.setSubscription(!0),t.notifications=!0,t.$q.notify({message:"Notifica√ß√µes habilitadas.",color:"positive",position:"center",icon:"chat"}))}))})):"denied"===e?(alert("Voc√™ deve limpar a configura√ß√£o de notifica√ß√µes do App para poder habilitar novamente."),t.notifications=!1):"default"===e&&(i.push((function(){i.showSlidedownPrompt({force:!0})})),i.push((function(){i.on("popoverAllowClick",(function(){setTimeout((function(){"granted"===Notification.permission?(i.setSubscription(!0),t.notifications=!0,t.$q.notify({message:"Notifica√ß√µes habilitadas.",color:"positive",position:"center",icon:"chat"})):t.notifications=!1}),5e3)}))})),i.push((function(){i.on("popoverCancelClick",(function(){t.notifications=!1}))})))}]):t.$q.notify({message:"Infelizmente as notifica√ß√µes ainda n√£o funcionam no iPhone, mas no √≠cone üîî aqui em cima voc√™ ver√° todas elas!",color:"negative",position:"center",icon:"chat",html:!0})}))}}}),s=a,c=(e("a29f"),e("2877")),r=e("eebe"),l=e.n(r),u=e("9989"),f=e("f09f"),d=e("9c40"),p=e("4e73"),m=e("1c1c"),g=e("66e5"),h=e("4074"),v=e("a370"),q=e("0016"),b=e("0378"),y=e("27f9"),_=e("4b7e"),k=e("e669"),w=e("9564"),S=e("eb85"),$=Object(c["a"])(s,n,o,!1,null,"6491a502",null);i["default"]=$.exports;l()($,"components",{QPage:u["a"],QCard:f["a"],QBtn:d["a"],QMenu:p["a"],QList:m["a"],QItem:g["a"],QItemSection:h["a"],QCardSection:v["a"],QIcon:q["a"],QForm:b["a"],QInput:y["a"],QCardActions:_["a"],QSpinnerFacebook:k["a"],QToggle:w["a"],QSeparator:S["a"]})}}]);