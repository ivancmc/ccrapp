{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"2d2290a2\"],{dc6c:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"q-page\",{staticClass:\"q-pa-md flex-center\"},[e.user?a(\"q-card\",{staticClass:\"card-sign-in q-pa-md\",attrs:{inline:\"\",color:\"white\"}},[e.admin?a(\"div\",{staticClass:\"float-right\"},[a(\"q-btn\",{attrs:{color:\"grey-7\",round:\"\",flat:\"\",icon:\"group\"}},[a(\"q-menu\",{attrs:{anchor:\"bottom left\",self:\"top middle\",\"auto-close\":\"\"}},[a(\"q-list\",{staticStyle:{width:\"max-content\"}},[a(\"q-item\",{attrs:{clickable:\"\",to:\"/users\"}},[a(\"q-item-section\",[e._v(\"Lista de usuários\")])],1)],1)],1)],1)],1):e._e(),a(\"q-card-section\",{staticClass:\"q-pa-md\",staticStyle:{margin:\"auto\",width:\"max-content\"}},[a(\"q-input\",{attrs:{label:\"Nome\",readonly:\"\"},model:{value:e.user.displayName,callback:function(t){e.$set(e.user,\"displayName\",t)},expression:\"user.displayName\"}}),a(\"q-input\",{attrs:{label:\"E-mail\",readonly:\"\"},model:{value:e.user.email,callback:function(t){e.$set(e.user,\"email\",t)},expression:\"user.email\"}}),a(\"q-input\",{attrs:{label:\"Contato\",readonly:\"\"},model:{value:e.perfil.contato,callback:function(t){e.$set(e.perfil,\"contato\",t)},expression:\"perfil.contato\"}}),a(\"q-input\",{attrs:{label:\"Data de nascimento\",readonly:\"\"},model:{value:e.perfil.nascimento,callback:function(t){e.$set(e.perfil,\"nascimento\",t)},expression:\"perfil.nascimento\"}})],1),a(\"q-card-actions\",{staticClass:\"q-mt-lg\",attrs:{align:\"center\"}},[a(\"q-btn\",{attrs:{label:\"Perfil\",to:\"/profile\",color:\"primary\"}}),a(\"q-btn\",{attrs:{label:\"Sair\",color:\"primary\"},on:{click:e.sair}})],1)],1):a(\"q-card\",{staticClass:\"q-pa-md\",attrs:{inline:\"\",color:\"white\"}},[a(\"div\",{staticClass:\"float-right\"},[a(\"q-btn\",{attrs:{color:\"grey-7\",round:\"\",flat:\"\",icon:\"o_live_help\"}},[a(\"q-menu\",{attrs:{anchor:\"bottom left\",self:\"top middle\",\"auto-close\":\"\"}},[a(\"q-list\",{staticStyle:{width:\"max-content\"}},[a(\"q-item\",{attrs:{clickable:\"\"},on:{click:e.resetar_senha}},[a(\"q-item-section\",[e._v(\"Esqueci minha senha\")])],1)],1)],1)],1)],1),a(\"q-card-section\",{staticClass:\"q-pa-md\",staticStyle:{margin:\"auto\",width:\"max-content\"}},[a(\"q-icon\",{staticStyle:{\"font-size\":\"5em\"},attrs:{name:\"assignment_ind\"}})],1),a(\"q-form\",[a(\"q-input\",{attrs:{label:\"E-mail *\",\"lazy-rules\":\"\",rules:[function(e){return e&&e.length>0||\"Por favor digite seu e-mail\"},function(e){return e.includes(\"@\")&&e.includes(\".\")||\"Digite um e-mail válido\"}],clearable:\"\"},on:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.entrar(t)}},model:{value:e.email,callback:function(t){e.email=t},expression:\"email\"}}),a(\"q-input\",{attrs:{type:\"password\",label:\"Senha *\",\"lazy-rules\":\"\",rules:[function(e){return null!==e&&\"\"!==e||\"Digite uma senha\"}],clearable:\"\"},on:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.entrar(t)}},model:{value:e.senha,callback:function(t){e.senha=t},expression:\"senha\"}}),a(\"q-card-actions\",{staticClass:\"q-mt-lg\",attrs:{align:\"center\"}},[a(\"q-btn\",{attrs:{label:\"Entrar\",color:\"secondary\",loading:e.loading1},on:{click:e.entrar},scopedSlots:e._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-facebook\")]},proxy:!0}],null,!1,4102112682)}),a(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{label:\"Criar conta\",color:\"primary\",flat:\"\",loading:e.loading2},on:{click:e.registrar},scopedSlots:e._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-facebook\")]},proxy:!0}],null,!1,4102112682)})],1)],1)],1)],1)},i=[],o=(a(\"28a5\"),a(\"a481\"),{name:\"Login\",data:function(){return{email:\"\",senha:\"\",loading1:!1,loading2:!1,codigo:\"\",user:this.$firebase.auth().currentUser,perfil:{nome:\"\",contato:\"\",nascimento:\"\"},admin:!1}},created:function(){this.user&&this.getProfile(this.user.uid)},methods:{registrar:function(){var e=this;this[\"loading2\"]=!0,this.$firebase.auth().createUserWithEmailAndPassword(this.email,this.senha).then((function(t){e.$q.notify({message:\"Sua conta foi criada com sucesso!\",color:\"positive\",position:\"center\",icon:\"how_to_reg\"}),e.$router.replace(\"/\")}),(function(t){e.codigo=t.code.split(\"/\")[1].replace(/-/g,\"_\"),e.$q.notify({message:\"Ops.. algo deu errado: \"+e.$q.lang.auth[e.codigo],color:\"negative\",position:\"center\",icon:\"error\"}),e[\"loading2\"]=!1,console.log(e.codigo),console.log(t.message)}))},getProfile:function(e){var t=this;this.$db.ref(\"perfis\").orderByChild(\"id\").equalTo(e).once(\"child_added\",(function(e){t.perfil=e.val(),t.admin=e.val().admin}))},entrar:function(){var e=this;this[\"loading1\"]=!0,this.$firebase.auth().signInWithEmailAndPassword(this.email,this.senha).then((function(t){var a=\". Por favor, preencha seu perfil.\";if(t.user.displayName){var n=t.user.displayName.split(\" \");a=\" \"+n[0]+\"!\"}e.$q.notify({message:\"Seja bem-vindo\"+a,color:\"positive\",position:\"center\",icon:\"assignment_turned_in\"}),t.user.displayName?e.$router.replace(\"/\"):e.$router.replace(\"/profile\")}),(function(t){e.codigo=t.code.split(\"/\")[1].replace(/-/g,\"_\"),e.$q.notify({message:\"Ops.. algo deu errado: \"+e.$q.lang.auth[e.codigo],color:\"negative\",position:\"center\",icon:\"assignment_late\"}),e[\"loading1\"]=!1,console.log(e.codigo),console.log(t.message)}))},resetar_senha:function(){this.$router.replace(\"/reset_pwd\")},sair:function(){var e=this;this.$firebase.auth().signOut().then((function(){e.$q.notify({message:\"Até mais \"+e.perfil.nome,color:\"blue-8\",position:\"center\",icon:\"pan_tool\"}),e.$router.replace(\"/\")}))}}}),s=o,r=a(\"2877\"),l=a(\"fe09\"),c=Object(r[\"a\"])(s,n,i,!1,null,\"72d8a778\",null);t[\"default\"]=c.exports;c.options.components=Object.assign({QPage:l[\"v\"],QCard:l[\"b\"],QBtn:l[\"a\"],QMenu:l[\"u\"],QList:l[\"s\"],QItem:l[\"o\"],QItemSection:l[\"q\"],QCardSection:l[\"d\"],QIcon:l[\"l\"],QForm:l[\"j\"],QInput:l[\"n\"],QCardActions:l[\"c\"],QSpinnerFacebook:l[\"C\"]},c.options.components||{})}}]);","extractedComments":[]}