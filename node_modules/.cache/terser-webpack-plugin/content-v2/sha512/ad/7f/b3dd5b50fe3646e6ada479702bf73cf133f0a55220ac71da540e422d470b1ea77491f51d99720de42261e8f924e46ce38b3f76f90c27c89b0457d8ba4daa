{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"2d0c7791\"],{5187:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"q-pa-md flex-center\",staticStyle:{\"max-width\":\"300px\"}},[a(\"div\",[a(\"q-form\",{staticClass:\"q-gutter-md\",on:{submit:t.onSubmit,reset:t.onReset}},[a(\"q-input\",{ref:\"input_dia\",attrs:{label:\"Dia\",outlined:\"\",\"lazy-rules\":\"\",rules:[function(t){return!!t||\"Defina um dia.\"}],mask:\"##/##/####\"},scopedSlots:t._u([{key:\"append\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[a(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-date\",{attrs:{title:\"Data\",mask:\"DD/MM/YYYY\",minimal:\"\"},on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.date,callback:function(e){t.date=e},expression:\"date\"}})],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:\"date\"}}),a(\"q-select\",{attrs:{outlined:\"\",multiple:\"\",options:t.horarios,label:\"Horários\",separator:\"\"},scopedSlots:t._u([{key:\"option\",fn:function(e){return[a(\"q-item\",t._g(t._b({},\"q-item\",e.itemProps,!1),e.itemEvents),[a(\"q-item-section\",{attrs:{side:\"\"}},[a(\"q-checkbox\",{attrs:{val:e.opt},model:{value:t.hours,callback:function(e){t.hours=e},expression:\"hours\"}})],1),a(\"q-item-section\",[a(\"q-item-label\",{domProps:{innerHTML:t._s(e.opt)}})],1)],1)]}}]),model:{value:t.hours,callback:function(e){t.hours=e},expression:\"hours\"}}),a(\"q-checkbox\",{attrs:{label:\"Fila de espera\"},model:{value:t.extra,callback:function(e){t.extra=e},expression:\"extra\"}}),a(\"div\",[a(\"q-btn\",{attrs:{label:\"Disponibilizar\",type:\"submit\",color:\"primary\"}}),a(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{label:\"Limpar\",type:\"reset\",color:\"primary\",flat:\"\"}})],1)],1)],1),a(\"br\"),a(\"div\",{staticStyle:{width:\"fit-content\"}},[t.agenda?a(\"q-markup-table\",{attrs:{flat:\"\",bordered:\"\"}},[a(\"thead\",[a(\"tr\",[a(\"th\",{staticClass:\"text-center\"},[t._v(\"Data\")]),a(\"th\",{staticClass:\"text-center\"},[t._v(\"Horários\")]),a(\"th\",{staticClass:\"text-center\"},[t._v(\"Extras\")]),a(\"th\",{staticClass:\"text-center\"},[t._v(\"Ação\")])])]),a(\"tbody\",t._l(t.agenda,(function(e){return a(\"tr\",{key:e[\".key\"]},[a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.data))]),a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.horarios))]),a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.extra?\"Sim\":\"Não\"))]),a(\"td\",[a(\"q-btn\",{attrs:{flat:\"\",icon:\"delete_forever\"},on:{click:function(a){return t.remove_disponib(e.data)}}})],1)])})),0)]):t._e()],1)])},o=[],i=(a(\"55dd\"),a(\"28a5\"),{name:\"Aconselhamento\",data:function(){return{date:\"\",hours:[13,14,15,16],horarios:[13,14,15,16],extra:!1,agenda:[]}},created:function(){var t=this;this.$db.ref(\"aconselhamentos_agenda\").orderByChild(\"data\").on(\"value\",(function(e){t.agenda=e.val()}))},methods:{ano_mes_dia:function(t){var e=t.split(\"/\"),a=e[2]+e[1]+e[0];return a},dia_mes_ano:function(t){if(t){var e=t.slice(-2),a=t.slice(4,-2),s=t.slice(0,4),o=e+\"/\"+a+\"/\"+s;return o}},onSubmit:function(){this.$refs.input_dia.validate(),this.$refs.input_dia.hasError?this.formHasError=!0:(this.$db.ref(\"aconselhamentos_agenda\").push({data:this.date,horarios:this.hours.sort(),extra:this.extra}),this.$q.notify({color:\"positive\",textColor:\"white\",icon:\"event_available\",position:\"center\",message:\"Aconselhamento disponibilizado!\"}),this.onReset())},onReset:function(){this.date=\"\",this.hours=[13,14,15,16],this.extra=!1,this.$refs.input_dia.resetValidation()},remove_disponib:function(t){var e=this;this.$db.ref(\"aconselhamentos_agenda\").orderByChild(\"data\").equalTo(t).on(\"child_added\",(function(t){e.$db.ref(\"aconselhamentos_agenda\").child(t.key).remove()})),this.$q.notify({color:\"positive\",textColor:\"white\",icon:\"event_busy\",position:\"center\",message:\"Aconselhamento excluído!\"})}}}),n=i,r=a(\"2877\"),l=a(\"fe09\"),c=Object(r[\"a\"])(n,s,o,!1,null,null,null);e[\"default\"]=c.exports;c.options.components=Object.assign({QForm:l[\"m\"],QInput:l[\"r\"],QIcon:l[\"o\"],QPopupProxy:l[\"C\"],QDate:l[\"i\"],QSelect:l[\"E\"],QItem:l[\"s\"],QItemSection:l[\"u\"],QCheckbox:l[\"h\"],QItemLabel:l[\"t\"],QBtn:l[\"a\"],QMarkupTable:l[\"x\"]},c.options.components||{})}}]);","extractedComments":[]}